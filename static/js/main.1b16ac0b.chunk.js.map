{"version":3,"sources":["components/Home.jsx","api/ApiActions.js","data/displayFields.js","components/DetailText.jsx","utils/functions.js","components/DetailLinks.jsx","containers/Detail.jsx","components/CategoryList.jsx","containers/Category.jsx","components/Main.jsx","components/Navigation.jsx","registerServiceWorker.js","index.js","App.jsx"],"names":["Home","href","Component","apiUrl","getCategoryItems","category","fetch","getById","id","parseIdFromUrl","url","replace","textLabels","films","text","name","hideLabel","label","locations","links","people","species","vehicles","relatedCategories","keyword","DetailText","this","props","item","excerpt","map","currentField","string","charAt","toUpperCase","slice","toLowerCase","length","substring","key","className","capitaliseString","DetailLinks","getRelatedLinks","relatedItems","urls","Array","isArray","push","forEach","a","async","data","categoryData","sessionStorage","getItem","response","json","list","JSON","parse","displayLinks","relatedLinks","state","relatedCategory","filter","displayLinkItems","items","link","process","to","title","isLoaded","categories","relatedItem","setState","Detail","toggleModal","routeProps","history","prevState","modal","bind","getCategoryDetails","obj","Object","getOwnPropertyNames","match","params","Modal","isOpen","autoFocus","ModalHeader","toggle","ModalBody","CategoryList","displayJumbotron","Jumbotron","displayCard","detailsLink","Col","xs","md","lg","Card","CardTitle","CardText","tag","currentItem","Row","keys","path","render","Category","currentCategory","listItems","fetchCategoryItems","prevProps","sessionData","reduce","setItem","stringify","console","error","exact","component","routeList","Navigation","toggleNavbar","collapsed","mapNavbar","navItem","NavItem","activeClassName","Navbar","light","NavbarBrand","NavbarToggler","onClick","Collapse","navbar","Nav","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","catch","ReactDOM","Container","fluid","Main","document","getElementById","URL","origin","addEventListener","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.1b16ac0b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nexport default class Home extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <p>\r\n          Created using{\" \"}\r\n          <a href=\"https://github.com/facebook/create-react-app\">\r\n            create-react-app\r\n          </a>\r\n          , <a href=\"https://reactstrap.github.io/\">Reactstrap</a> and the{\" \"}\r\n          <a href=\"https://ghibliapi.herokuapp.com/\">Studio Ghibli API</a> this\r\n          displays a list of films, characters, vechicles, species, and\r\n          locations that appear in Studio Ghibli's many films. Navigate through\r\n          the categories using the links above\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const apiUrl = 'https://ghibliapi.herokuapp.com/';\r\nconst categoryLinks = {\r\n  films: false,\r\n  people: ['films', 'species'],\r\n  locations: ['residents', 'films'],\r\n  species: ['people', 'films'],\r\n  vehicles: ['pilot', 'films'],\r\n};\r\n\r\n/**\r\n * Makes a GET request to the Ghibli API\r\n * to get all items in the category\r\n *\r\n * @param {string} category\r\n */\r\nexport function getCategoryItems(category) {\r\n  return fetch(apiUrl + category);\r\n}\r\n\r\n/**\r\n * Call API by id\r\n *\r\n * @param {string} category\r\n * @param {int64} id\r\n */\r\nexport function getById(category, id) {\r\n  return fetch(`${apiUrl}${category}/${id}`);\r\n}\r\n\r\nexport function isEmpty(obj) {\r\n  if (typeof obj !== 'object') return false;\r\n\r\n  if (Object.getOwnPropertyNames(obj).length === 0) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function parseIdFromUrl(url, category) {\r\n  if (category) {\r\n    return url.replace(`${apiUrl + category}/`, '');\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} item\r\n * @param {*} mainCategory\r\n */\r\nexport function getAllRelated(item, mainCategory) {\r\n  const relatedCategories = categoryLinks[mainCategory];\r\n  const promiseArray = [];\r\n  relatedCategories.forEach(relatedCategory => {\r\n    const urls = item[relatedCategory];\r\n    if (typeof urls === 'string') {\r\n      promiseArray.push(fetch(urls));\r\n    } else {\r\n      urls.forEach(url => {\r\n        promiseArray.push(fetch(url));\r\n      });\r\n    }\r\n  });\r\n\r\n  return fetch(promiseArray);\r\n}\r\n","export const textLabels = {\r\n  films: {\r\n    text: [\r\n      { name: 'description', hideLabel: true },\r\n      { name: 'director' },\r\n      { name: 'producer' },\r\n      { name: 'release_date', label: 'Release Date' },\r\n      { name: 'rt_score', label: 'Rotten Tomatoes Score' },\r\n    ],\r\n  },\r\n  locations: {\r\n    text: [\r\n      { name: 'climate' },\r\n      { name: 'terrain' },\r\n      { name: 'surface_water', label: 'Surface Water' },\r\n    ],\r\n    links: ['residents', 'films'],\r\n  },\r\n  people: {\r\n    text: [\r\n      { name: 'gender' },\r\n      { name: 'age' },\r\n      { name: 'eye_color', label: 'Eye Color' },\r\n      { name: 'hair_color', label: 'Hair color' },\r\n    ],\r\n    links: ['film', 'species'],\r\n  },\r\n  species: {\r\n    text: [\r\n      { name: 'eye_colors', label: 'Eye Colors' },\r\n      { name: 'hair_colors', label: 'Hair Colors' },\r\n    ],\r\n    links: ['people', 'films'],\r\n  },\r\n  vehicles: {\r\n    text: [\r\n      { name: 'description', hideLabel: true },\r\n      { name: 'vehicle_class', label: 'Vehicle Class' },\r\n      { name: 'length' },\r\n    ],\r\n  },\r\n};\r\n\r\nexport const relatedCategories = {\r\n  films: [\r\n    { category: 'people', label: 'Characters' },\r\n    { category: 'species' },\r\n    { category: 'locations' },\r\n    { category: 'vehicles' },\r\n  ],\r\n  people: [\r\n    { category: 'films', label: 'Appears in' },\r\n    { category: 'species', label: 'Species' },\r\n  ],\r\n  locations: [\r\n    { category: 'people', label: 'Residents', keyword: 'residents' },\r\n    { category: 'films', label: 'Appears In' },\r\n  ],\r\n  species: [\r\n    { category: 'people', label: 'Members' },\r\n    { category: 'films', label: 'Appears in' },\r\n  ],\r\n  vehicles: [\r\n    { category: 'people', label: 'Pilots' },\r\n    { category: 'films', label: 'Appears in' },\r\n  ],\r\n};\r\n","/* eslint-disable react/prop-types */\r\n/* eslint-disable react/jsx-one-expression-per-line */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { textLabels } from '../data/displayFields';\r\n\r\nexport default class DetailText extends Component {\r\n  render() {\r\n    const { category, item, excerpt } = this.props;\r\n    const field = textLabels[category];\r\n    let label = '';\r\n\r\n    return field.text.map(currentField => {\r\n      if (currentField.label) {\r\n        label = currentField.label;\r\n      } else if (!currentField.hideLabel) {\r\n        const string =\r\n          currentField.name.charAt(0).toUpperCase() + currentField.name.slice(1).toLowerCase();\r\n        label = string;\r\n      }\r\n\r\n      let text = item[currentField.name];\r\n\r\n      if (text && text.length > 300 && excerpt) {\r\n        text = `${text.substring(0, 300)}...`;\r\n      }\r\n\r\n      return (\r\n        <p key={currentField.name}>\r\n          {!currentField.hideLabel && <span className=\"label\">{label}: </span>}\r\n          {text}\r\n        </p>\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\nDetailText.propTypes = {\r\n  category: PropTypes.string.isRequired,\r\n  item: PropTypes.shape({\r\n    description: PropTypes.string,\r\n  }).isRequired,\r\n  excerpt: PropTypes.bool.isRequired,\r\n};\r\n","export const capitaliseString = string => {\r\n  return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\r\n};\r\n","/* eslint-disable react/prop-types */\r\nimport React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { parseIdFromUrl, getById } from '../api/ApiActions';\r\nimport { relatedCategories } from '../data/displayFields';\r\nimport { capitaliseString } from '../utils/functions';\r\n\r\nexport default class DetailLinks extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isLoaded: false,\r\n      relatedLinks: {},\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { category } = this.props;\r\n    const categories = relatedCategories[category];\r\n    const links = {};\r\n\r\n    if (categories.length) {\r\n      categories.forEach(relatedItem => {\r\n        const keyword = relatedItem.keyword || relatedItem.category;\r\n        links[relatedItem.category] = this.getRelatedLinks(relatedItem.category, keyword);\r\n      });\r\n    }\r\n\r\n    this.setState({ isLoaded: true, relatedLinks: links });\r\n  }\r\n\r\n  getRelatedLinks = (category, keyword) => {\r\n    const { item } = this.props;\r\n    const relatedItems = [];\r\n    let urls = [];\r\n\r\n    if (item[keyword] && !Array.isArray(item[keyword])) {\r\n      urls.push(item[keyword]);\r\n    } else {\r\n      urls = item[keyword];\r\n    }\r\n\r\n    if (urls) {\r\n      urls.forEach(async url => {\r\n        const id = parseIdFromUrl(url, category);\r\n\r\n        if (id && id.length) {\r\n          let data = {};\r\n          const categoryData = sessionStorage.getItem(category);\r\n\r\n          if (categoryData === null) {\r\n            const response = await getById(keyword, id);\r\n            data = await response.json();\r\n          } else {\r\n            const list = JSON.parse(categoryData);\r\n            data = list[id];\r\n          }\r\n\r\n          relatedItems.push(data);\r\n        }\r\n      });\r\n    }\r\n\r\n    return relatedItems;\r\n  };\r\n\r\n  displayLinks = () => {\r\n    const { category } = this.props;\r\n    const { relatedLinks } = this.state;\r\n    const relatedCategory = relatedCategories[category];\r\n\r\n    if (relatedCategory.length) {\r\n      return relatedCategory\r\n        .filter(item => relatedLinks[item.category].length)\r\n        .map(item => {\r\n          const label = item.label ? item.label : capitaliseString(item.category);\r\n\r\n          return (\r\n            <div key={label}>\r\n              <h4>{label}</h4>\r\n              <ul>{this.displayLinkItems(relatedLinks[item.category], item.category)}</ul>\r\n            </div>\r\n          );\r\n        });\r\n    }\r\n\r\n    return <p>None</p>;\r\n  };\r\n\r\n  displayLinkItems = (items, category) => {\r\n    return items.map(item => {\r\n      const link = `${process.env.PUBLIC_URL}/c/${category}/${item.id}`;\r\n\r\n      return (\r\n        <li key={item.id}>\r\n          <Link to={link}>{item.title || item.name}</Link>\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { isLoaded } = this.state;\r\n    return (\r\n      <div>\r\n        <h3>Related Links</h3>\r\n        {isLoaded ? this.displayLinks() : 'Loading...'}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\r\n\r\nimport { getById, isEmpty } from '../api/ApiActions';\r\nimport DetailText from '../components/DetailText';\r\nimport DetailLinks from '../components/DetailLinks';\r\n\r\nexport default class Detail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      item: {},\r\n      modal: false,\r\n    };\r\n\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCategoryDetails();\r\n  }\r\n\r\n  /**\r\n   * Fetch the Details of the clicked category item\r\n   * @param {*} props\r\n   */\r\n  async getCategoryDetails() {\r\n    const { category, item, routeProps } = this.props;\r\n    let data = {};\r\n\r\n    if (isEmpty(item)) {\r\n      const { id } = routeProps.match.params;\r\n      const categoryData = sessionStorage.getItem(category);\r\n\r\n      if (categoryData === null) {\r\n        const response = await getById(category, id);\r\n        data = await response.json();\r\n      } else {\r\n        const list = JSON.parse(categoryData);\r\n        data = list[id];\r\n      }\r\n    } else {\r\n      data = item;\r\n    }\r\n\r\n    this.setState({\r\n      item: data,\r\n      modal: true,\r\n      category,\r\n    });\r\n  }\r\n\r\n  toggleModal = () => {\r\n    const { routeProps } = this.props;\r\n    const { category } = this.state;\r\n\r\n    routeProps.history.push(`/c/${category}`);\r\n\r\n    this.setState(prevState => {\r\n      return { modal: !prevState.modal };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { item, modal, category } = this.state;\r\n    return (\r\n      <div>\r\n        <Modal isOpen={modal} autoFocus={false}>\r\n          <ModalHeader toggle={this.toggleModal}>{item.title || item.name}</ModalHeader>\r\n          <ModalBody>\r\n            <DetailText item={item} category={category} excerpt={false} />\r\n            <DetailLinks item={item} category={category} />\r\n          </ModalBody>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDetail.propTypes = {\r\n  category: PropTypes.string.isRequired,\r\n  item: PropTypes.shape({\r\n    description: PropTypes.string,\r\n  }).isRequired,\r\n  routeProps: PropTypes.shape({\r\n    history: PropTypes.shape({}),\r\n    match: PropTypes.shape({\r\n      params: PropTypes.shape({\r\n        id: PropTypes.string,\r\n      }),\r\n    }),\r\n  }).isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col, Jumbotron, Card, CardTitle, CardText } from 'reactstrap';\r\nimport { Link, Route } from 'react-router-dom';\r\n\r\nimport Detail from '../containers/Detail';\r\nimport CategoryText from './DetailText';\r\nimport { capitaliseString } from '../utils/functions';\r\n\r\nexport default class CategoryList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentItem: {},\r\n    };\r\n  }\r\n\r\n  displayJumbotron = category => {\r\n    const title = capitaliseString(category);\r\n    return (\r\n      <Jumbotron>\r\n        <h1>{title}</h1>\r\n      </Jumbotron>\r\n    );\r\n  };\r\n\r\n  displayCard = item => {\r\n    const { category } = this.props;\r\n    const detailsLink = `${process.env.PUBLIC_URL}/c/${category}/${item.id}`;\r\n\r\n    return (\r\n      <Col xs=\"12\" md=\"6\" lg=\"4\" key={item.id}>\r\n        <Card className=\"h-100 card-body\">\r\n          <CardTitle>\r\n            <h2>{item.name || item.title}</h2>\r\n          </CardTitle>\r\n          <CardText tag=\"div\">\r\n            <CategoryText item={item} category={category} excerpt />\r\n          </CardText>\r\n          <Link to={detailsLink}>More Info</Link>\r\n        </Card>\r\n      </Col>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { category, list, url } = this.props;\r\n    const { currentItem } = this.state;\r\n\r\n    return (\r\n      <div className=\"list-wrapper\">\r\n        {this.displayJumbotron(category)}\r\n        <Row className=\"category-list\">\r\n          {Object.keys(list).map(key => {\r\n            return this.displayCard(list[key]);\r\n          })}\r\n        </Row>\r\n        <Route\r\n          path={`${url}/:id`}\r\n          render={routeProps => (\r\n            <Detail routeProps={routeProps} item={currentItem} category={category} />\r\n          )}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCategoryList.propTypes = {\r\n  category: PropTypes.string.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n  //   list: PropTypes.\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { getCategoryItems } from '../api/ApiActions';\r\n\r\nimport CategoryList from '../components/CategoryList';\r\n\r\nexport default class Category extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentCategory: '',\r\n      isLoaded: false,\r\n      listItems: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props;\r\n    this.fetchCategoryItems(match.params.category);\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (props.match.params.category !== state.currentCategory) {\r\n      return {\r\n        isLoaded: false,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { match } = this.props;\r\n    if (match.params.category !== prevProps.match.params.category) {\r\n      this.fetchCategoryItems(match.params.category);\r\n    }\r\n  }\r\n\r\n  async fetchCategoryItems(category) {\r\n    const sessionData = sessionStorage.getItem(category);\r\n    let data = {};\r\n\r\n    if (sessionData === null) {\r\n      try {\r\n        const response = await getCategoryItems(category);\r\n        data = await response.json();\r\n\r\n        data = data.reduce((obj, item) => {\r\n          const temp = obj;\r\n          temp[item.id] = item;\r\n          return obj;\r\n        }, {});\r\n\r\n        sessionStorage.setItem(category, JSON.stringify(data));\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    } else {\r\n      data = JSON.parse(sessionData);\r\n    }\r\n\r\n    this.setState({\r\n      currentCategory: category,\r\n      listItems: data,\r\n      isLoaded: true,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isLoaded } = this.state;\r\n    const { match } = this.props;\r\n\r\n    if (!isLoaded) {\r\n      return <p>loading...</p>;\r\n    }\r\n\r\n    const { listItems, currentCategory } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <CategoryList category={currentCategory} list={listItems} url={match.url} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCategory.propTypes = {\r\n  match: PropTypes.shape({\r\n    params: PropTypes.shape({\r\n      category: PropTypes.string,\r\n    }),\r\n    url: PropTypes.string,\r\n  }).isRequired,\r\n};\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport Home from './Home';\r\nimport Category from '../containers/Category';\r\n\r\nexport default () => (\r\n  <main>\r\n    <Route path={`${process.env.PUBLIC_URL}/`} exact component={Home} />\r\n    <Route path={`${process.env.PUBLIC_URL}/c/:category`} component={Category} />\r\n  </main>\r\n);\r\n","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Navbar, NavbarBrand, Nav, NavItem, NavbarToggler, Collapse } from 'reactstrap';\r\n\r\nconst routeList = [\r\n  { path: '/c/films', label: 'Films' },\r\n  { path: '/c/locations', label: 'Locations' },\r\n  { path: '/c/people', label: 'People' },\r\n  { path: '/c/species', label: 'Species' },\r\n  { path: '/c/vehicles', label: 'Vehicles' },\r\n];\r\n\r\nexport default class Navigation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleNavbar = this.toggleNavbar.bind(this);\r\n    this.state = {\r\n      collapsed: true,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Hide or show the header navigation.\r\n   */\r\n  toggleNavbar = () => {\r\n    this.setState(prevState => {\r\n      return { collapsed: !prevState.collapsed };\r\n    });\r\n  };\r\n\r\n  mapNavbar = () => {\r\n    return routeList.map(navItem => {\r\n      return (\r\n        <NavItem key={navItem.label}>\r\n          <NavLink\r\n            exact\r\n            to={`${process.env.PUBLIC_URL}${navItem.path}`}\r\n            activeClassName=\"active\"\r\n            className=\"nav-link\"\r\n          >\r\n            {navItem.label}\r\n          </NavLink>\r\n        </NavItem>\r\n      );\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { collapsed } = this.state;\r\n\r\n    return (\r\n      <Navbar className=\"navbar-expand-lg\" light>\r\n        <NavbarBrand tag=\"div\">\r\n          <NavLink to={process.env.PUBLIC_URL}>Ghibli React App</NavLink>\r\n        </NavbarBrand>\r\n        <NavbarToggler onClick={this.toggleNavbar} className=\"mr-2\" />\r\n        <Collapse isOpen={!collapsed} navbar>\r\n          <Nav>{this.mapNavbar()}</Nav>\r\n        </Collapse>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from 'App';\n\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n","import React from 'react';\nimport { Container } from 'reactstrap';\nimport { HashRouter } from 'react-router-dom';\n\nimport Main from './components/Main';\nimport Navigation from './components/Navigation';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './styles/App.css';\n\nexport default () => (\n  <HashRouter>\n    <Container fluid>\n      <Navigation />\n      <Container>\n        <Main />\n      </Container>\n    </Container>\n  </HashRouter>\n);\n"],"sourceRoot":""}